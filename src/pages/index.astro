---
import { wait } from '@volpe/utils';
import Layout from '../layouts/Layout.astro';
import TestDefer from '../components/TestDefer.astro';

const currentTime = new Date().toLocaleTimeString();
// Astro.response.headers.set('Cache-Control', 'public, s-maxage=30, stale-while-revalidate=30');

// const res = await fetch("https://randomuser.me/api/")
// const data = await res.json()
// await wait(10)

---

<Layout>
  {currentTime}
  <br/>
  <!-- {JSON.stringify(data.results[0].name.first)} -->
  <TestDefer/>
  <!-- <TestDefer server:defer> -->
  <!--   <p slot="fallback">cargando...</p> -->
  <!-- </TestDefer> -->
</Layout>
